<odoo>
    <record id="hr_timesheet_line_tree_inherit" model="ir.ui.view">
        <field name="name">hr_timesheet_line_tree_inherit</field>
        <field name="model">account.analytic.line</field>
        <field name="inherit_id" ref="hr_timesheet.hr_timesheet_line_tree"/>
        <field name="arch" type="xml">
            <xpath expr="//field[@name='date']" position="after">
                <field name="partner_id" string="Client" options="{'no_create': True, 'no_edit': True}"/>
            </xpath>
            <xpath expr="//field[@name='unit_amount']" position="after">
                <!-- NINOS 5 -->
                <field name="nombre_bulletins" string="Nombre bulletins"/> <!-- IDEAL : attrs="{'readonly' : [('task_id.sale_order_id.product_id.timesheet_quantity', '=', False)]}" -->
<!--                <field name="nombre_bulletins" string="Nombre bulletins" attrs="{'readonly' : [('bull_required', '=', False)]}"/>-->
            </xpath>
        </field>
    </record>

<!-- NINOS 6 -->
<!--    <record model="ir.ui.view" id="abei_feuille_temps.view_task_form2_inherited">-->
<!--        <field name="name">project.task.form.inherited</field>-->
<!--        <field name="model">account.analytic.line</field>-->
<!--        <field name="inherit_id" ref="hr_timesheet.view_task_form2_inherited"/>-->
<!--        <field name="arch" type="xml">-->
<!--            <xpath expr="//form[1]/sheet[1]/notebook[1]/page[1]/field[@name='timesheet_ids']/tree[1]/field[@name='name']" position="after">-->
<!--                <field name="nombre_bulletins"/>-->
<!--            </xpath>-->
<!--        </field>-->
<!--    </record>-->



<!-- NINOS 6 -->
<!--    <record model="ir.ui.view" id="abei_feuille_temps.view_task_form2_inherited">-->
<!--        <field name="name">project.task.form.inherited</field>-->
<!--        <field name="model">project.task</field>-->
<!--        <field name="inherit_id" ref="hr_timesheet.view_task_form2_inherited" />-->
<!--        <field name="groups_id" eval="[(6,0, (ref('hr_timesheet.group_hr_timesheet_user'),))]"/>-->
<!--        <field name="arch" type="xml">-->
<!--            &lt;!&ndash; RETRAIT ONGLET 'Feuilles de temps' DE BASE DE ODOO &ndash;&gt;-->
<!--            <xpath expr="//notebook/page[@id='timesheets_tab']" position="attributes">-->
<!--                 <attribute name='invisible'>1</attribute>-->
<!--            </xpath>-->
<!--            &lt;!&ndash; REECRITURE ONGLET 'Feuilles de temps' AVEC POUR SEUL CHANGEMENT LA POSITION (avant onglet Description) &ndash;&gt;-->
<!--            <xpath expr="//notebook/page[@name='description_page']" position="before">-->
<!--                <field name="analytic_account_active" invisible="1"/>-->
<!--                <field name="allow_timesheets" invisible="1"/>-->
<!--                <field name="allow_subtasks" invisible="1"/>-->
<!--                <field name="encode_uom_in_days" invisible="1"/>-->
<!--                <page string="Feuilles de temps" id="timesheets_tab" attrs="{'invisible': [('allow_timesheets', '=', False)]}">-->
<!--                    <group>-->
<!--                        <group>-->
<!--                            <div class="o_td_label">-->
<!--                                <label for="planned_hours" string="Heures prévues initialement" attrs="{'invisible': [('encode_uom_in_days', '=', True)]}"/>-->
<!--                                <label for="planned_hours" string="Jours prévus initialement" attrs="{'invisible': [('encode_uom_in_days', '=', False)]}"/>-->
<!--                            </div>-->
<!--                            <field name="planned_hours" widget="timesheet_uom_no_toggle" nolabel="1"/>-->
<!--                            <div class="o_td_label" groups="project.group_subtask_project" attrs="{'invisible': ['|', ('allow_subtasks', '=', False), ('subtask_count', '=', 0)]}">-->
<!--                                <label for="subtask_planned_hours" string="Sub-tasks Planned Hours" attrs="{'invisible': [('encode_uom_in_days', '=', True)]}"/>-->
<!--                                <label for="subtask_planned_hours" string="Sub-tasks Planned Days" attrs="{'invisible': [('encode_uom_in_days', '=', False)]}"/>-->
<!--                            </div>-->
<!--                            <field name="subtask_planned_hours" widget="timesheet_uom_no_toggle" nolabel="1" groups="project.group_subtask_project" attrs="{'invisible': ['|', ('allow_subtasks', '=', False), ('subtask_count', '=', 0)]}"/>-->
<!--                        </group>-->
<!--                        <group>-->
<!--                            <field name="progress" widget="progressbar"/>-->
<!--                        </group>-->
<!--                    </group>-->
<!--                    <group name="timesheet_error" attrs="{'invisible': [('analytic_account_active', '!=', False)]}">-->
<!--                        <div class="alert alert-warning" role="alert">-->
<!--                            You cannot log timesheets on this project since it is linked to an inactive analytic account. Please change this account, or reactivate the current one to timesheet on the project.-->
<!--                        </div>-->
<!--                    </group>-->
<!--                <field name="timesheet_ids" mode="tree,kanban" attrs="{'invisible': [('analytic_account_active', '=', False)]}" context="{'default_project_id': project_id, 'default_name':''}">-->
<!--                    <tree editable="bottom" string="Timesheet Activities" default_order="date">-->
<!--                        <field name="date"/>-->
<!--                        <field name="user_id" invisible="1"/>-->
<!--                        <field name="employee_id" required="1" widget="many2one_avatar_employee"/>-->
<!--                        <field name="name" required="0"/>-->
<!--                        <field name="unit_amount" widget="timesheet_uom" decoration-danger="unit_amount &gt; 24"/>-->
<!--                        <field name="project_id" invisible="1"/>-->
<!--                        <field name="task_id" invisible="1"/>-->
<!--                        <field name="company_id" invisible="1"/>-->
<!--                    </tree>-->
<!--                    <kanban class="o_kanban_mobile">-->
<!--                        <field name="date"/>-->
<!--                        <field name="user_id"/>-->
<!--                        <field name="employee_id" widget="many2one_avatar_employee"/>-->
<!--                        <field name="name"/>-->
<!--                        <field name="unit_amount" decoration-danger="unit_amount &gt; 24"/>-->
<!--                        <field name="project_id"/>-->
<!--                        <field name="task_id" invisible="1"/>-->
<!--                        <templates>-->
<!--                            <t t-name="kanban-box">-->
<!--                                <div t-attf-class="oe_kanban_card oe_kanban_global_click">-->
<!--                                    <div class="row">-->
<!--                                        <div class="col-6">-->
<!--                                            <strong><span><t t-esc="record.employee_id.value"/></span></strong>-->
<!--                                        </div>-->
<!--                                        <div class="col-6 pull-right text-right">-->
<!--                                            <strong><t t-esc="record.date.value"/></strong>-->
<!--                                        </div>-->
<!--                                    </div>-->
<!--                                    <div class="row">-->
<!--                                        <div class="col-6 text-muted">-->
<!--                                            <span><t t-esc="record.name.value"/></span>-->
<!--                                        </div>-->
<!--                                        <div class="col-6">-->
<!--                                            <span class="pull-right text-right">-->
<!--                                                <field name="unit_amount" widget="float_time"/>-->
<!--                                            </span>-->
<!--                                        </div>-->
<!--                                    </div>-->
<!--                                </div>-->
<!--                            </t>-->
<!--                        </templates>-->
<!--                    </kanban>-->
<!--                    <form  string="Timesheet Activities">-->
<!--                        <sheet>-->
<!--                             <group>-->
<!--                                <field name="date"/>-->
<!--                                <field name="user_id" invisible="1"/>-->
<!--                                <field name="employee_id" required="1" widget="many2one_avatar_employee"/>-->
<!--                                <field name="name"/>-->
<!--                                <field name="unit_amount" string="Duration" widget="float_time" decoration-danger="unit_amount &gt; 24"/>-->
<!--                                <field name="project_id" invisible="1"/>-->
<!--                                <field name="task_id" invisible="1"/>-->
<!--                                <field name="company_id" invisible="1"/>-->
<!--                            </group>-->
<!--                        </sheet>-->
<!--                    </form>-->
<!--                </field>-->
<!--                <group attrs="{'invisible': [('analytic_account_active', '=', False)]}">-->
<!--                    <group class="oe_subtotal_footer oe_right" name="project_hours">-->
<!--                        <span>-->
<!--                            <label class="font-weight-bold" for="effective_hours" string="Hours Spent" attrs="{'invisible': [('encode_uom_in_days', '=', True)]}"/>-->
<!--                            <label class="font-weight-bold" for="effective_hours" string="Days Spent" attrs="{'invisible': [('encode_uom_in_days', '=', False)]}"/>-->
<!--                        </span>-->
<!--                        <field name="effective_hours" widget="timesheet_uom" nolabel="1"/>-->

<!--                        <button name="action_view_subtask_timesheet" type="object" class="o_td_label o_form_label o_form_subtask_button oe_inline oe_link mr-0" attrs="{'invisible' : ['|', ('allow_subtasks', '=', False), ('subtask_effective_hours', '=', 0.0)]}">-->
<!--                            <span class="text-nowrap" attrs="{'invisible' : [('encode_uom_in_days', '=', True)]}">Sub-tasks Hours Spent</span>-->
<!--                            <span class="text-nowrap" attrs="{'invisible' : [('encode_uom_in_days', '=', False)]}">Sub-tasks Days Spent</span>-->
<!--                        </button>-->
<!--                        <field name="subtask_effective_hours" class="mt-2" widget="timesheet_uom"-->
<!--                               attrs="{'invisible' : ['|', ('allow_subtasks', '=', False), ('subtask_effective_hours', '=', 0.0)]}" nolabel="1"/>-->
<!--                        <span>-->
<!--                            <label class="font-weight-bold" for="total_hours_spent" string="Total Hours"-->
<!--                                   attrs="{'invisible': ['|', '|', ('allow_subtasks', '=', False), ('subtask_effective_hours', '=', 0.0), ('encode_uom_in_days', '=', True)]}"/>-->
<!--                            <label class="font-weight-bold" for="total_hours_spent" string="Total Days"-->
<!--                                   attrs="{'invisible': ['|', '|', ('allow_subtasks', '=', False), ('subtask_effective_hours', '=', 0.0), ('encode_uom_in_days', '=', False)]}"/>-->
<!--                        </span>-->
<!--                        <field name="total_hours_spent" widget="timesheet_uom" class="oe_subtotal_footer_separator" nolabel="1"-->
<!--                               attrs="{'invisible' : ['|', ('allow_subtasks', '=', False), ('subtask_effective_hours', '=', 0.0)]}" />-->
<!--                        <span>-->
<!--                            <label class="font-weight-bold" for="remaining_hours" string="Remaining Hours"-->
<!--                                   attrs="{'invisible': ['|', ('planned_hours', '=', 0.0), ('encode_uom_in_days', '=', True)]}"/>-->
<!--                            <label class="font-weight-bold" for="remaining_hours" string="Remaining Days"-->
<!--                                   attrs="{'invisible': ['|', ('planned_hours', '=', 0.0), ('encode_uom_in_days', '=', False)]}"/>-->
<!--                        </span>-->
<!--                        <field name="remaining_hours" widget="timesheet_uom" class="oe_subtotal_footer_separator"-->
<!--                               attrs="{'invisible' : [('planned_hours', '=', 0.0)]}" nolabel="1"/>-->
<!--                    </group>-->
<!--                </group>-->
<!--            </page>-->
<!--            </xpath>-->
<!--        </field>-->
<!--    </record>-->


</odoo>

